<!-- Hero Banner Section -->
<div id="heroBanner" class="carousel slide" data-bs-ride="carousel">
    <% if (locals.banners && banners.length > 0) { %>
        <div class="carousel-indicators">
            <% banners.forEach((banner, index) => { %>
                <button type="button" 
                        data-bs-target="#heroBanner" 
                        data-bs-slide-to="<%= index %>" 
                        class="<%= index === 0 ? 'active' : '' %>"></button>
            <% }); %>
        </div>
        
        <div class="carousel-inner">
            <% banners.forEach((banner, index) => { %>
                <div class="carousel-item <%= index === 0 ? 'active' : '' %>">
                    <div class="banner-slide" style="background-image: url('<%= banner.image.url %>')">
                        <div class="container">
                            <div class="banner-content">
                                <% if (banner.subtitle) { %>
                                    <span class="subtitle"><%= banner.subtitle %></span>
                                <% } %>
                                <h1 class="title">
                                    <%= banner.title %>
                                </h1>
                                <% if (banner.description) { %>
                                    <p class="description"><%= banner.description %></p>
                                <% } %>
                                <% if (banner.buttonText && banner.buttonLink) { %>
                                    <div class="banner-buttons">
                                        <a href="<%= banner.buttonLink %>" class="btn btn-primary">
                                            <%= banner.buttonText %>
                                        </a>
                                    </div>
                                <% } %>
                            </div>
                        </div>
                    </div>
                </div>
            <% }); %>
        </div>
        
        <button class="carousel-control-prev" type="button" data-bs-target="#heroBanner" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroBanner" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    <% } else { %>
        <!-- Default banner when no banners are available -->
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="banner-slide" style="background-image: url('/images/default-banner.jpg')">
                    <div class="container">
                        <div class="banner-content">
                            <h1 class="title">
                                Welcome to Gaming Store
                            </h1>
                            <p class="description">
                                Discover amazing gaming products
                            </p>
                            <div class="banner-buttons">
                                <a href="/products" class="btn btn-primary">Shop Now</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <% } %>
</div>

<!-- Best Seller Products Section -->
<section class="best-seller py-5">
    <div class="container">
        <div class="section-header d-flex justify-content-between align-items-center mb-4">
            <h2 class="section-title">Best Seller <span class="highlight">Products</span></h2>
            <a href="/products" class="view-all">View All</a>
        </div>
        <!-- Add your product cards here -->
    </div>
</section>

<!-- Shop by Category Section -->
<section class="shop-by-category py-5">
    <div class="container">
        <div class="section-header d-flex justify-content-between align-items-center mb-4">
            <h2 class="section-title">Shop by <span class="highlight">Category</span></h2>
            <a href="/categories" class="view-all">View All</a>
        </div>
        <div class="row g-4">
            <% categories.forEach(category => { %>
                <div class="col-6 col-md-3">
                    <div class="category-card">
                        <div class="category-image">
                            <img src="<%= category.image || '/images/default-category.jpg' %>" 
                                 alt="<%= category.name %>"
                                 class="img-fluid">
                        </div>
                        <div class="category-content">
                            <h3 class="category-title"><%= category.name %></h3>
                            <p class="category-description"><%= category.description %></p>
                            <div class="category-action">
                                <span class="product-count">
                                    <%= category.productCount %> Product<%= category.productCount !== 1 ? 's' : '' %>
                                </span>
                                <a href="/products?category=<%= category._id %>" class="btn btn-outline btn-sm">View All</a>
                            </div>
                        </div>
                    </div>
                </div>
            <% }); %>
        </div>
    </div>
</section>

<style>
:root {
    --primary-color: #00ff00;
    --dark-bg: #0a0a0a;
    --card-bg: #1a1a1a;
    --text-color: #ffffff;
}

body {
    background-color: var(--dark-bg);
    color: var(--text-color);
}

.hero-banner {
    background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
                url('/images/gaming-banner.jpg') center/cover;
    min-height: 80vh;
    display: flex;
    align-items: center;
    position: relative;
}

.banner-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
}

.title {
    font-size: 3.5rem;
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 1.5rem;
    text-transform: uppercase;
}

.highlight {
    color: var(--primary-color);
}

.description {
    font-size: 1.1rem;
    margin-bottom: 2rem;
    opacity: 0.9;
}

.banner-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
}

.btn {
    padding: 0.8rem 2.5rem;
    font-weight: 600;
    text-transform: uppercase;
    border-radius: 5px;
    transition: all 0.3s ease;
}

.btn-primary {
    background: var(--primary-color);
    border: none;
    color: var(--dark-bg);
}

.btn-outline {
    border: 2px solid var(--primary-color);
    color: var(--primary-color);
    background: transparent;
}

.btn-primary:hover {
    background: #00cc00;
    transform: translateY(-2px);
}

.btn-outline:hover {
    background: var(--primary-color);
    color: var(--dark-bg);
    transform: translateY(-2px);
}

/* Best Seller Section */
.best-seller {
    background-color: var(--dark-bg);
}

.section-header {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 1rem;
}

.section-title {
    font-size: 2rem;
    font-weight: 600;
    color: var(--text-color);
}

.view-all {
    color: var(--primary-color);
    text-decoration: none;
    font-weight: 500;
    transition: opacity 0.3s ease;
}

.view-all:hover {
    opacity: 0.8;
}

/* Shop by Category Section */
.shop-by-category {
    background-color: var(--dark-bg);
    padding: 4rem 0;
}

.category-card {
    background: var(--card-bg);
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0, 255, 0, 0.05);
    transition: all 0.3s ease;
    height: 100%;
}

.category-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 20px rgba(0, 255, 0, 0.1);
}

.category-image {
    position: relative;
    overflow: hidden;
    height: 200px;
}

.category-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.category-card:hover .category-image img {
    transform: scale(1.05);
}

.category-content {
    padding: 1.5rem;
}

.category-title {
    font-size: 1.25rem;
    color: var(--text-color);
    margin-bottom: 0.5rem;
}

.category-description {
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.9rem;
    margin-bottom: 1rem;
    min-height: 40px;
}

.category-action {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.product-count {
    color: var(--primary-color);
    font-size: 0.9rem;
}

.btn-sm {
    padding: 0.4rem 1rem;
    font-size: 0.875rem;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .title {
        font-size: 2.5rem;
    }

    .banner-buttons {
        flex-direction: column;
    }

    .banner-buttons .btn {
        width: 100%;
    }

    .category-image {
        height: 150px;
    }
    
    .category-title {
        font-size: 1.1rem;
    }
    
    .category-description {
        font-size: 0.8rem;
        min-height: 32px;
    }
}

.banner-slide {
    height: 80vh;
    background-size: cover;
    background-position: center;
    position: relative;
}

.banner-slide::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.5);
}

.banner-content {
    position: relative;
    padding: 100px 0;
    color: white;
    text-align: center;
}

.subtitle {
    color: var(--bs-success);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 1rem;
    display: block;
}

.title {
    font-size: 4rem;
    margin-bottom: 1.5rem;
}

.description {
    font-size: 1.2rem;
    max-width: 600px;
    margin: 0 auto 2rem;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const list = document.querySelector('.category-list');
    let isDown = false;
    let startX;
    let scrollLeft;

    list.addEventListener('mousedown', (e) => {
        isDown = true;
        list.style.cursor = 'grabbing';
        startX = e.pageX - list.offsetLeft;
        scrollLeft = list.scrollLeft;
    });

    list.addEventListener('mouseleave', () => {
        isDown = false;
        list.style.cursor = 'grab';
    });

    list.addEventListener('mouseup', () => {
        isDown = false;
        list.style.cursor = 'grab';
    });

    list.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - list.offsetLeft;
        const walk = (x - startX) * 2;
        list.scrollLeft = scrollLeft - walk;
    });
});
</script> 