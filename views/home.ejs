<div class="container-fluid p-0">
    <!-- Hero Banner -->
    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="/images/banner1.jpg" class="d-block w-100" alt="Banner 1" style="height: 500px; object-fit: cover;">
                <div class="carousel-caption d-none d-md-block">
                    <h2>New Arrivals</h2>
                    <p>Check out our latest collection</p>
                    <a href="/products" class="btn btn-primary">Shop Now</a>
                </div>
            </div>
            <div class="carousel-item">
                <img src="/images/banner2.jpg" class="d-block w-100" alt="Banner 2" style="height: 500px; object-fit: cover;">
                <div class="carousel-caption d-none d-md-block">
                    <h2>Special Offers</h2>
                    <p>Up to 50% off on selected items</p>
                    <a href="/products?discount=true" class="btn btn-primary">View Deals</a>
                </div>
            </div>
            <div class="carousel-item">
                <img src="/images/banner3.jpg" class="d-block w-100" alt="Banner 3" style="height: 500px; object-fit: cover;">
                <div class="carousel-caption d-none d-md-block">
                    <h2>Free Shipping</h2>
                    <p>On orders over $50</p>
                    <a href="/products" class="btn btn-primary">Start Shopping</a>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>

    <!-- Categories Section -->
    <div class="container my-5">
        <h2 class="text-center mb-4">Shop by Category</h2>
        <div class="row g-4">
            <% categories.forEach(category => { %>
                <div class="col-md-4">
                    <div class="card category-card h-100">
                        <img src="<%= category.image %>" class="card-img-top" alt="<%= category.name %>" 
                             style="height: 200px; object-fit: cover;">
                        <div class="card-body text-center">
                            <h5 class="card-title"><%= category.name %></h5>
                            <p class="card-text"><%= category.description %></p>
                            <a href="/products/category/<%= category.slug %>" class="btn btn-outline-primary">View Products</a>
                        </div>
                    </div>
                </div>
            <% }); %>
        </div>
    </div>

    <!-- Featured Products -->
    <div class="container my-5">
        <h2 class="text-center mb-4">Featured Products</h2>
        <div class="row g-4">
            <% featuredProducts.forEach(product => { %>
                <div class="col-md-3">
                    <div class="card product-card h-100">
                        <div class="position-relative">
                            <% if (product.discount > 0) { %>
                                <div class="badge bg-danger position-absolute top-0 end-0 m-2">
                                    -<%= product.discount %>%
                                </div>
                            <% } %>
                            <img src="<%= product.images[0] %>" class="card-img-top" alt="<%= product.name %>"
                                 style="height: 200px; object-fit: cover;">
                        </div>
                        <div class="card-body">
                            <h5 class="card-title text-truncate"><%= product.name %></h5>
                            <div class="mb-2">
                                <% if (product.discount > 0) { %>
                                    <span class="text-muted text-decoration-line-through">
                                        $<%= product.originalPrice %>
                                    </span>
                                <% } %>
                                <span class="text-danger fw-bold ms-2">$<%= product.price %></span>
                            </div>
                            <div class="rating mb-2">
                                <% for(let i = 0; i < 5; i++) { %>
                                    <i class="bi bi-star<%= i < product.averageRating ? '-fill' : '' %> text-warning"></i>
                                <% } %>
                                <small class="text-muted">(<%= product.ratings.length %>)</small>
                            </div>
                        </div>
                        <div class="card-footer bg-white border-top-0">
                            <div class="d-grid gap-2">
                                <a href="/products/<%= product.slug %>" class="btn btn-outline-primary">View Details</a>
                                <% if (product.stock > 0) { %>
                                    <button class="btn btn-primary add-to-cart" data-product-id="<%= product._id %>">
                                        Add to Cart
                                    </button>
                                <% } else { %>
                                    <button class="btn btn-secondary" disabled>Out of Stock</button>
                                <% } %>
                            </div>
                        </div>
                    </div>
                </div>
            <% }); %>
        </div>
    </div>

    <!-- Features Section -->
    <div class="bg-light py-5 mt-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-3 text-center">
                    <i class="bi bi-truck display-4 text-primary"></i>
                    <h5 class="mt-3">Free Shipping</h5>
                    <p class="text-muted">On orders over $50</p>
                </div>
                <div class="col-md-3 text-center">
                    <i class="bi bi-shield-check display-4 text-primary"></i>
                    <h5 class="mt-3">Secure Payment</h5>
                    <p class="text-muted">100% secure payment</p>
                </div>
                <div class="col-md-3 text-center">
                    <i class="bi bi-arrow-counterclockwise display-4 text-primary"></i>
                    <h5 class="mt-3">Easy Returns</h5>
                    <p class="text-muted">14 day return policy</p>
                </div>
                <div class="col-md-3 text-center">
                    <i class="bi bi-headset display-4 text-primary"></i>
                    <h5 class="mt-3">24/7 Support</h5>
                    <p class="text-muted">Dedicated support</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add custom CSS -->
<style>
.category-card:hover {
    transform: translateY(-5px);
    transition: transform 0.3s ease;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.product-card:hover {
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.carousel-item img {
    filter: brightness(0.7);
}

.carousel-caption {
    bottom: 20%;
}

.carousel-caption h2 {
    font-size: 3rem;
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

.carousel-caption p {
    font-size: 1.5rem;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}
</style> 